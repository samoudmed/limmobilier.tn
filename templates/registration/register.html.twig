{% extends 'base.html.twig' %}
{% block meta %}
    <title>Déposer votre annonce immobilière gratuitement sur limmobilier.tn</title>
    <meta name="description" content="Inscription – inscrivez vous sur le site des annonces immobilière et déposer votre annonce immobilière en Tunisie gratuit, location, vente et achat" />
{% endblock %}
{% block body %}
    <section id="main-container" class="container inner">
        <div class="container">
            <ul class="ht-breadcrumbs ht-breadcrumbs--y-padding ht-breadcrumbs--b-border">
                <li class="ht-breadcrumbs__item"><a href="{{ path('homepage') }}" class="ht-breadcrumbs__link"><span class="ht-breadcrumbs__title">Accueil</span></a></li>
                <li class="ht-breadcrumbs__item"><span class="ht-breadcrumbs__page">Inscription</span></li>
            </ul>
        </div>
        <div class="container">
            <div id="main-content" class="main-content col-xs-12 col-md-12">
                <div id="primary" class="content-area">
                    <div id="content" class="site-content" role="main">
                        <article id="post-8780" class="post-8780 page type-page status-publish hentry">
                            <div class="entry-content-page clearfix">
                                <div class="wpb-container vc_row ">
                                    <div class="wpb-container-inner">
                                        <div class="container">
                                            <div class="vc_row wpb_row vc_row-fluid row ">
                                                <div class="vc_ col-sm-3"><div class="vc_column-inner"><div class="wpb_wrapper"></div></div></div>
                                                <div class="vc_ col-sm-6">
                                                    <div class="vc_column-inner">
                                                        <div class="wpb_wrapper">
                                                            <div class="panel opalmembership-login-form-wrapper">
                                                                <div class="panel-body">
                                                                    <h1>Inscription</h1>
                                                                    <div class="opalesate-form-wrapper">
                                                                        {% for type, messages in app.session.flashbag.all() %}
                                                                            {% for message in messages %}
                                                                                <div class="flash-{{ type }}">
                                                                                    {{ message }}
                                                                                </div>
                                                                            {% endfor %}
                                                                        {% endfor %}
                                                                        {{ form_start(registrationForm, {'method': 'post', 'action': path('app_register'), 'attr': {'class': 'fos_user_registration_register'}}) }}

                                                                        <p class="opalmembership-form-field form-row username validate-required">
                                                                            <label class="sign-up__label" for="username">Nom:</label>
                                                                            {{ form_widget(registrationForm.nom, {'attr': {'class': 'opalmembership-input text input-text', 'placeholder':'Nom'}}) }}
                                                                            <span class="help-block">{{ form_errors(registrationForm.nom) }}</span>
                                                                        </p>
                                                                        <p class="opalmembership-form-field form-row password validate-required">
                                                                            <label class="sign-up__label" for="username">Prénom:</label>
                                                                            {{ form_widget(registrationForm.prenom, {'attr': {'class': 'opalmembership-input text input-text', 'placeholder':'Prénom'}}) }}
                                                                            <span class="help-block">{{ form_errors(registrationForm.prenom) }}</span>
                                                                        </p>
                                                                        <p class="opalmembership-form-field form-row">
                                                                            <label class="sign-up__label" for="username">Email:</label>
                                                                            {{ form_widget(registrationForm.email, {'attr': {'class': 'opalmembership-input text input-text', 'placeholder':'Email'}}) }}
                                                                            <span class="help-block">{{ form_errors(registrationForm.email) }}</span>
                                                                        </p>
                                                                        <p class="opalmembership-form-field form-row">
                                                                            <label class="sign-up__label" for="username">Mot de passe:</label>
                                                                            {{ form_widget(registrationForm.plainPassword, {'attr': {'class': 'opalmembership-input text input-text', 'placeholder':'Mot de passe'}}) }}
                                                                            <span toggle="#registration_form_plainPassword" class="fa fa-fw fa-eye field-icon toggle-password"></span>
                                                                            <span class="help-block">{{ form_errors(registrationForm.plainPassword) }}</span>
                                                                        </p>
                                                                        <p class="opalmembership-form-field form-row">
                                                                            <label class="sign-up__label" for="username">Téléphone:</label>
                                                                            {{ form_widget(registrationForm.telephone, {'attr': {'class': 'opalmembership-input text input-text', 'placeholder':'00 000 000'}}) }}
                                                                            <span class="help-block">{{ form_errors(registrationForm.telephone) }}</span>
                                                                        </p>

                                                                        <p class="opalmembership-form-field form-row">
                                                                            <label class="sign-up__label" for="username">Société:</label>
                                                                            {{ form_widget(registrationForm.agence, {'attr': {'class': 'opalmembership-input text input-text', 'placeholder':'Société'}}) }}
                                                                            <span class="help-block">{{ form_errors(registrationForm.agence) }}</span>
                                                                        </p>
                                                                        <p class="opalmembership-form-field form-row">
                                                                            <label class="sign-up__label" for="username">Logo:</label>

                                                                        <div class="submit-property__upload">
                                                                            {{ form_widget(registrationForm.logo, {'attr': {'class': 'opalmembership-input text input-text'}}) }}
                                                                            <div class="submit-property__upload-inner">
                                                                                <span class="ion-ios-plus-outline submit-property__icon"></span>
                                                                                <span class="submit-property__upload-desc">Déposer le logo ici ou cliquer pour télécharger</span>
                                                                            </div>
                                                                        </div>
                                                                        <div id="previewMultiImage" style="min-height:20px" class="col-md-12"></div>
                                                                        <span class="help-block">{{ form_errors(registrationForm.logo) }}</span>
                                                                        </p>
                                                                        <p class="opalmembership-form-field form-row">
                                                                            <label class="sign-up__label" for="registration_form_agreeTerms">{{ form_widget(registrationForm.agreeTerms, {'attr': {'class': 'opalmembership-input text input-text'}}) }} J'accepte les conditions générales et <a href="{{ path('confidentialites') }}" target="_blank">la politique de confidentialité</a></label>
                                                                            <span class="help-block">{{ form_errors(registrationForm.agreeTerms) }}</span>
                                                                        </p>
                                                                        <p class="opalmembership-form-field form-row submit">
                                                                            {{ form_row(registrationForm._token) }}
                                                                            <input type="submit" class="btn-add-ads" name="inscription" value="Inscription">
                                                                        </p>
                                                                        {{ form_end(registrationForm, {'render_rest': false}) }}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="vc_ col-sm-3"><div class="vc_column-inner"><div class="wpb_wrapper"></div></div></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- .entry-content -->
                        </article>
                        <!-- #post-## -->
                    </div>
                    <!-- #content -->
                </div>
                <!-- #main-content -->
            </div>
        </div>
    </section>
    <script type="text/javascript">
        $('#registration_form_logo').change(function () {

            var file = this.files[0];

            if (file.type != "image/png" && file.type != "image/jpeg" && file.type != "image/gif")
            {
                alert("Please choose png, jpeg or gif files");
                return false;
            }

            var reader = new FileReader();

            reader.onload = function (e) {
                $('#previewMultiImage').append('<div class="col-md-3 margin"><img src="' + e.target.result + '" id="previewImage" class="listing__img margin5"></div>');
                $("#previewMultiImage").css("height", "auto");
                $(".submit-property__upload").css("display", "none");
            }

            reader.readAsDataURL(file);
        });
    </script>
{% endblock %}
