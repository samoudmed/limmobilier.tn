{% extends 'base.html.twig' %}
{% block meta %}
    {{ render(controller('App\\Controller\\Admin\\MetaController::getMeta', {'idEntity' : 1, 'entity': 'favoris'})) }}
{% endblock %}
{% block body %}
    <section class="my-property">
    <div class="container">
        <ul class="ht-breadcrumbs ht-breadcrumbs--y-padding ht-breadcrumbs--b-border">
            <li class="ht-breadcrumbs__item"><a href="{{ path('homepage') }}" class="ht-breadcrumbs__link"><span class="ht-breadcrumbs__title">Accueil</span></a></li>
            <li class="ht-breadcrumbs__item"><span class="ht-breadcrumbs__page">Mes favoris</span></li>
        </ul><!-- .ht-breadcrumb -->

        <div class="my-property__container">
            <div class="row">
                {{ include("default/compte/_menuUser.html.twig") }}<!-- .col -->

                <div class="col-md-9">
                    <ul class="manage-list manage-list--my-property">
                        <li class="manage-list__header">
                            <span class="manage-list__title">
                                <!-- Bookmark icon SVG -->
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M2 2v13l6-5.5 6 5.5V2H2zm6 6.5L3.5 12V3h9v9L8 8.5z"/>
                                </svg>
                                Annonces
                            </span>
                        </li>
                        {% for annonce in annonces %}
                            <li class="manage-list__item row mb-4 p-3 rounded">
                                    <!-- Colonne image -->
                                    <div class="col-12 col-md-4  mb-2 mb-md-0">
                                        <img src="{{ asset(annonce.photo is defined and annonce.photo ? '/uploads/photos/263x175/' ~ annonce.photo : 'images/default.jpg') }}"
                                             alt="Photo de l'annonce"
                                             class="img-fluid rounded w-100 h-100 object-fit-cover"
                                             style="min-height: 200px; object-fit: cover;">
                                    </div>
                                    <!-- Colonne détails + actions -->
                                    <div class="col-12 col-md-8 d-flex flex-column justify-content-between">
                                        <!-- Ligne d'information -->
                                        <div class="mb-3">
                                            <h5 class="mb-1"><a href="{{ path('annonce_details', { 'label' : annonce.label|slugify, 'id' : annonce.id }) }}">{{ annonce.label }}</a></h5>
                                            <p class="mb-1 text-muted">
                                                {{ annonce.kind }} à {{ annonce.delegation }} — 
                                                <strong>{{ annonce.prix|number_format(0, '.', ' ') }} TND</strong>
                                            </p>
                                        </div>
                                    </div>
                                </li>
                                <!-- .manage-list__item" -->
                        {% endfor %}
                        <div class="text-center">{{ knp_pagination_render(annonces) }}</div>
                    </ul>
                </div><!-- .col -->

            </div><!-- .row -->
        </div><!-- .my-property__container -->
    </div><!-- .container -->
</section>
{% endblock %}